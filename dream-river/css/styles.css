/* Dream River Experience Styles */

/* Fonts */
body {
  font-family: Helvetica, sans-serif;
  background: url("../Assets/background.jpg") no-repeat center center fixed;
  background-size: cover;
  color: #111;
  margin: 0;
  padding: 0;
}

/* Global link color (accent) */
a { color: #2AA7B5; }

/* === Adobe Fonts (Typekit) ===
 * The Typekit service used to deliver this font or fonts for use on websites
 * is provided by Adobe and is subject to these Terms of Use
 * http://www.adobe.com/products/eulas/tou_typekit. For font license
 * information, see the list below.
 *
 * the-seasons:
 *   - http://typekit.com/eulas/00000000000000007758a676
 *   - http://typekit.com/eulas/00000000000000007750b302
 *   - http://typekit.com/eulas/00000000000000007750b301
 *   - http://typekit.com/eulas/00000000000000007758a678
 *   - http://typekit.com/eulas/00000000000000007750b305
 *   - http://typekit.com/eulas/00000000000000007758a67a
 *
 * © 2009-2025 Adobe Systems Incorporated. All Rights Reserved.
 */
/*{"last_published":"2025-09-08 15:55:29 UTC"}*/

@import url("https://p.typekit.net/p.css?s=1&k=ezc4ghs&ht=tk&f=53890.53891.53892.53893.53894.53895&a=157478904&app=typekit&e=css");

@font-face {
font-family:"the-seasons";
src:url("https://use.typekit.net/af/60c855/00000000000000007758a676/31/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3") format("woff2"),url("https://use.typekit.net/af/60c855/00000000000000007758a676/31/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3") format("woff"),url("https://use.typekit.net/af/60c855/00000000000000007758a676/31/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3") format("opentype");
font-display:auto;font-style:normal;font-weight:300;font-stretch:normal;
}

@font-face {
font-family:"the-seasons";
src:url("https://use.typekit.net/af/f7edd5/00000000000000007750b302/31/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i7&v=3") format("woff2"),url("https://use.typekit.net/af/f7edd5/00000000000000007750b302/31/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i7&v=3") format("woff"),url("https://use.typekit.net/af/f7edd5/00000000000000007750b302/31/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i7&v=3") format("opentype");
font-display:auto;font-style:italic;font-weight:700;font-stretch:normal;
}

@font-face {
font-family:"the-seasons";
src:url("https://use.typekit.net/af/cd6931/00000000000000007750b301/31/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3") format("woff2"),url("https://use.typekit.net/af/cd6931/00000000000000007750b301/31/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3") format("woff"),url("https://use.typekit.net/af/cd6931/00000000000000007750b301/31/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3") format("opentype");
font-display:auto;font-style:italic;font-weight:400;font-stretch:normal;
}

@font-face {
font-family:"the-seasons";
src:url("https://use.typekit.net/af/0726c3/00000000000000007758a678/31/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3") format("woff2"),url("https://use.typekit.net/af/0726c3/00000000000000007758a678/31/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3") format("woff"),url("https://use.typekit.net/af/0726c3/00000000000000007758a678/31/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3") format("opentype");
font-display:auto;font-style:normal;font-weight:400;font-stretch:normal;
}

@font-face {
font-family:"the-seasons";
src:url("https://use.typekit.net/af/9c8f7e/00000000000000007750b305/31/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i3&v=3") format("woff2"),url("https://use.typekit.net/af/9c8f7e/00000000000000007750b305/31/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i3&v=3") format("woff"),url("https://use.typekit.net/af/9c8f7e/00000000000000007750b305/31/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i3&v=3") format("opentype");
font-display:auto;font-style:italic;font-weight:300;font-stretch:normal;
}

@font-face {
font-family:"the-seasons";
src:url("https://use.typekit.net/af/2a403e/00000000000000007758a67a/31/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3") format("woff2"),url("https://use.typekit.net/af/2a403e/00000000000000007758a67a/31/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3") format("woff"),url("https://use.typekit.net/af/2a403e/00000000000000007758a67a/31/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3") format("opentype");
font-display:auto;font-style:normal;font-weight:700;font-stretch:normal;
}

.tk-the-seasons { font-family: "the-seasons",sans-serif; }

/* Rail + Pane layout (centered content with side gutters) */
:root {
  --rail-max: 64rem; /* comfortably narrow on large screens */
  --rail-gutter: clamp(14.4px, 4.8vw, 48px); /* responsive gutters (20% increase) */
  --pane-radius: 12px;
  --pane-bg: #FFFFFFE6; /* light pane (≈90% opacity) behind #111111 text */
  --pane-border: rgba(67, 61, 65, 0.25); /* existing deep ink border */
  --pane-shadow: 0 2px 6px rgba(67, 61, 65, 0.15); /* existing shadow */
}

.rail {
  box-sizing: border-box;
  max-width: var(--rail-max, 64rem);
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--rail-gutter, 16px);
  padding-right: var(--rail-gutter, 16px);
}

.pane {
  background: var(--panel, var(--pane-bg));
  border: 1.5px solid var(--border-ink, var(--pane-border));
  border-radius: var(--pane-radius, 12px);
  padding: 16px;
  box-shadow: var(--elevation-1, var(--pane-shadow));
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
}

/* Global block styling */
.block {
  background: rgba(233, 232, 232, 0.78); /* translucent white */
  border: 1.5px solid rgba(67, 61, 65, 0.25); /* deep ink border */
  border-radius: 12px;
  padding: 16px;
  margin: 12px 0;
  box-shadow: 0 2px 6px rgba(67, 61, 65, 0.15);
}

/* Keep hero and credits full-bleed with inner panes only */
.dr-hero.block,
.dr-credits.block {
  background: transparent;
  border: 0;
  box-shadow: none;
  padding: 0;
}

/* Limit hero letter and credits panes to ~2/3 width, left-aligned */
.dr-hero-card {
  max-width: 66.666%;
  margin-right: auto;
  margin-top: 23rem;
  text-align: left;
}

.dr-credits .pane {
  max-width: 66.666%;
  margin-right: auto;
  text-align: left;
}

/* Headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "the-seasons", sans-serif;
  color: #fff;
  margin-top: 0;
}

/* Custom heading classes should also inherit The Seasons */
.heading-white {
  font-family: "the-seasons", sans-serif;
  color: #fff;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
}

/* Credits title styling */
#dr-credits-title {
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
}

/* Chapter visibility - show only active chapter */
.chapter {
  display: none;
  border-left: 4px solid #8ca7b2; /* river teal */
  background: rgba(233, 232, 232, 0.9);
}

.chapter.active {
  display: block;
}

/* Hide all subchapters by default */
.chapter .sub {
  display: none;
}

/* Show active subchapter */
.chapter .sub.active {
  display: block;
  max-width: 100%;
  overflow: hidden;
  box-sizing: border-box;
}

/* Constrain all elements within active subchapters */
.chapter .sub.active * {
  max-width: 100%;
  box-sizing: border-box;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Add margins to paragraphs in active subchapters */
.chapter .sub.active p {
  margin-left: 1rem;
  margin-right: 1rem;
  margin-bottom: 2rem;
}

/* Hide CTAs by default, show only when subchapter is active */
.cta-shelf {
  display: none;
}

.chapter.active .cta-shelf {
  display: grid;
}

/* Audio player styling */
.audio-player {
  margin-top: 16px;
  text-align: center;
}

.play-song-btn {
  background: #8ca7b2;
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s ease;
}

.play-song-btn:hover {
  background: #7a9ba6;
}

.play-song-btn:disabled {
  background: #ccc;
  cursor: not-allowed;
}

/* CTA styling */
.cta {
  border: 2.5px solid rgba(67, 61, 65, 0.45);
  padding: 16px;
  text-align: center;
  cursor: pointer;
  transition: background 0.2s ease;
}
.cta:hover, .cta:focus {
  background: rgba(233, 232, 232, 0.86);
  outline: 2px solid #8ca7b2;
  outline-offset: 2px;
}

/* Embed wrapper */
.embed-wrapper {
  background: #135E6680; /* teal-tint pane (≈50% opacity) */
  padding: 16px;
  border: 2px solid rgba(67, 61, 65, 0.3);
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(67, 61, 65, 0.15);
  margin: 16px 0;
}

/* Prevent unintended horizontal scroll due to inner fixed elements */
html, body {
  overflow-x: hidden;
}

/* Headings spacing within rail */
.rail .heading-white {
  margin-left: 4px;
  margin-right: 4px;
}

/* Lower-third masked video wrapper (pilot: Mountain Muse) */
.lowerthird-wrap {
  position: relative;
  width: 100%;
  height: 360px; /* chosen pilot visible height */
  overflow: hidden;
  pointer-events: none; /* non-interactive */
  border-radius: 12px; /* matches existing pane radius */
}
.lowerthird-wrap[role="img"] {
  /* presentational graphic semantics via aria-label on the container */
}
.lowerthird-video {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0; /* anchor to bottom so lower-third sits flush */
  width: 100%;
  height: auto;
  display: block;
}
.lowerthird-fallback-text {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 12px 16px;
  font-family: "the-seasons", sans-serif;
  font-weight: 700;
  color: #111;
  background: rgba(255,255,255,0.75); /* reuse sticky heading panel tint */
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  border-top: 1px solid rgba(0,0,0,0.1);
}
.visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0,0,0,0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* When the lower-third is present, visually hide the immediate heading fallback (still accessible) */
.lowerthird-wrap + h1,
.lowerthird-wrap + h2,
.lowerthird-wrap + h3,
.lowerthird-wrap + .chapter-title {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0,0,0,0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* Pre-play gate: hide chapters & CTAs until first play */
.preplay .chapter,
.preplay .cta-shelf {
  display: none !important;
}
/* Also hide the wrapper containers to avoid empty panes */
.preplay .chapters-block,
.preplay #cta-root {
  display: none !important;
}

/* 1) Headings use bold Helvetica (body remains Helvetica as you set) */
.chapter h1,
.chapter h2,
.chapter h3,
.chapter .chapter-title {
  font-family: "the-seasons", sans-serif;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
}

/* 2) When a chapter is active, keep its heading "on top" inside the chapters column */
.chapters-block .chapter.active > h1:first-of-type,
.chapters-block .chapter.active > h2:first-of-type,
.chapters-block .chapter.active > h3:first-of-type,
.chapters-block .chapter.active > .chapter-title:first-of-type,
#experience-root .chapter.active > h1:first-of-type,
#experience-root .chapter.active > h2:first-of-type,
#experience-root .chapter.active > h3:first-of-type,
#experience-root .chapter.active > .chapter-title:first-of-type {
  position: sticky;
  top: 0;              /* adjust if you have a fixed header */
  z-index: 2;
  padding: 8px 10px;
  background: rgba(255,255,255,0.75);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  border-bottom: 1px solid rgba(0,0,0,0.1);
  /* ensure the heading looks like a label bar */
  margin-top: 0;
}

/* ===== Listen shelf (last 60s of chapter) ===== */
.listen-shelf {
  display: none;
  margin: var(--space-md, 16px) 0;
  padding: var(--space-md, 16px);
  border-radius: 10px;
  border: 1px solid var(--border, rgba(0,0,0,0.12));
  background: var(--panel, rgba(255,255,255,0.75));
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
}

.listen-shelf .listen-title {
  font-family: Helvetica, Arial, sans-serif;
  font-weight: 700;
  margin: 0 0 8px 0;
  color: var(--text-strong, #111);
}

.listen-shelf .listen-actions {
  display: flex;
  gap: 10px;
  align-items: center;
}

.listen-shelf .listen-play {
  appearance: none;
  border: 0;
  border-radius: 999px;
  padding: 10px 16px;
  font-family: Helvetica, Arial, sans-serif;
  font-weight: 700;
  cursor: pointer;
  background: var(--btn-bg, #111);
  color: var(--btn-fg, #fff);
}

.listen-shelf .listen-play[aria-pressed="true"] {
  background: var(--btn-active-bg, #444);
}

/* Respect pre-play gate */
.preplay .listen-shelf { display: none !important; }

/* Ensure shelf spans full width row in experience grid */
.experience .listen-shelf { grid-column: 1 / -1; }

/* Slim listen bar below heading */
.listen-bar {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  margin: 8px 0 12px 0;
  border: 1px solid var(--border-ink, rgba(67,61,65,0.25));
  border-radius: 8px;
  background: var(--pane-rgba, rgba(255,255,255,0.75));
}
.listen-bar-text { font-family: Helvetica, Arial, sans-serif; font-weight: 700; }
.listen-bar-btn { appearance: none; border: 0; border-radius: 999px; padding: 8px 14px; font-weight: 700; cursor: pointer; background: var(--aqua, #2AA7B5); color: #fff; }
.listen-bar-btn:hover { background: var(--aqua-700, #1D7C87); }

/* Screen-reader only utility */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* Center the Dream River title image */
.dr-title-png {
  display: block;
  margin: 23rem auto 4rem auto;
  max-width: 100%;
  height: auto;
}

/* Boat images positioning */
.dr-boat {
  position: absolute;
  max-width: 300px;
  height: auto;
  z-index: 1;
  top: 60%;
}

.dr-boat:first-of-type {
  left: 2rem;
}

.dr-boat2 {
  right: 2rem;
}

/* ===== Dream River Header, Modal, and Footer (custom) ===== */

:root {
  --aqua: #2AA7B5;
  --teal-ink: #135E66;
  --header-height: 44px;
}

/* Fixed thin header */
.dr-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--header-height);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(19, 94, 102, 0.85);
  color: #fff;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(0,0,0,0.2);
}
.dr-header a {
  color: #fff;
  text-decoration: none;
  font-weight: 700;
}
.dr-header a:hover { text-decoration: underline; }

/* Offset page content for fixed header */
body { padding-top: var(--header-height); }

/* Override sticky heading to account for header height */
.chapters-block .chapter.active > h1:first-of-type,
.chapters-block .chapter.active > h2:first-of-type,
.chapters-block .chapter.active > h3:first-of-type,
.chapters-block .chapter.active > .chapter-title:first-of-type,
#experience-root .chapter.active > h1:first-of-type,
#experience-root .chapter.active > h2:first-of-type,
#experience-root .chapter.active > h3:first-of-type,
#experience-root .chapter.active > .chapter-title:first-of-type {
  top: var(--header-height);
}

/* Confirm modal */
.confirm-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1100;
}
.confirm-overlay[aria-hidden="false"] { display: flex; }
.confirm-modal {
  background: var(--pane-bg);
  color: #111;
  border: 1.5px solid var(--pane-border);
  border-radius: var(--pane-radius);
  box-shadow: var(--pane-shadow);
  padding: 16px;
  max-width: 520px;
  width: calc(100% - 32px);
}
.confirm-modal h3 { margin: 0 0 8px 0; color: #111; font-family: "the-seasons", sans-serif; }
.confirm-modal p { margin: 0 0 16px 0; }
.confirm-actions { display: flex; gap: 10px; justify-content: flex-end; }
.btn { appearance: none; border: 0; border-radius: 8px; padding: 10px 14px; font-weight: 700; cursor: pointer; }
.btn-primary { background: var(--aqua); color: #fff; }
.btn-primary:hover { background: #1D7C87; }
.btn-secondary { background: #e6e6e6; color: #111; }
.btn-secondary:hover { background: #d8d8d8; }

/* Footer */
.dr-footer { margin-top: 24px; }
.dr-footer .pane { display: grid; gap: 16px; }
.footer-links { display: flex; flex-wrap: wrap; gap: 12px; }
.footer-links a { color: var(--teal-ink); font-weight: 700; text-decoration: none; }
.footer-links a:hover { text-decoration: underline; }
.social-links { display: flex; gap: 12px; }
.social-links a { color: var(--teal-ink); display: inline-flex; align-items: center; justify-content: center; width: 36px; height: 36px; border-radius: 999px; background: rgba(255,255,255,0.85); border: 1px solid var(--pane-border); }
.social-links a:hover { background: rgba(255,255,255,1); }

/* Sticky footer at viewport bottom */
body { display: flex; flex-direction: column; min-height: 100vh; }
.dr-footer { margin-top: auto; padding-top: 24px; }

/* ===== Responsive adjustments ===== */
@media (max-width: 768px) {
  .rail { padding-left: 12px; padding-right: 12px; }
  .pane { padding: 12px; border-radius: 10px; }
  .block { margin: 8px 0; }

  .dr-title-png { margin: 10rem auto 2rem auto; max-width: 88%; }
  .dr-hero-card { max-width: 100%; margin-top: 2rem; }
  .dr-boat { max-width: 160px; top: 70%; }
  .dr-boat:first-of-type { left: 0.5rem; }
  .dr-boat2 { right: 0.5rem; }

  .embed-wrapper { padding: 8px; }
  .listen-bar { flex-wrap: wrap; gap: 8px; }
  .listen-bar-btn { padding: 8px 12px; }

  .chapters-block .chapter.active > h1:first-of-type,
  .chapters-block .chapter.active > h2:first-of-type,
  .chapters-block .chapter.active > h3:first-of-type,
  .chapters-block .chapter.active > .chapter-title:first-of-type,
  #experience-root .chapter.active > h1:first-of-type,
  #experience-root .chapter.active > h2:first-of-type,
  #experience-root .chapter.active > h3:first-of-type,
  #experience-root .chapter.active > .chapter-title:first-of-type {
    padding: 6px 8px;
  }

  .dr-header { height: 40px; }
  :root { --header-height: 40px; }

  .footer-links { gap: 10px; }
  .social-links a { width: 32px; height: 32px; }
}

@media (max-width: 480px) {
  h1 { font-size: 1.6rem; }
  h2 { font-size: 1.3rem; }
  h3 { font-size: 1.1rem; }
  .dr-credits .pane, .dr-hero-card { padding: 12px; }
  .dr-title-png { margin-top: 8rem; }
}
